## ðŸŸ¦ Stack Utilities â€“ Python

```python
from typing import List
```

---

### 1ï¸âƒ£ Valid Parentheses

```python
def is_valid_parentheses(s: str) -> bool:
    stack = []
    pairs = {')': '(', '}': '{', ']': '['}

    for ch in s:
        if ch in pairs.values():
            stack.append(ch)
        elif ch in pairs:
            if not stack or stack.pop() != pairs[ch]:
                return False

    return not stack
```

---

### 2ï¸âƒ£ Next Greater Element

```python
def next_greater_element(arr: List[int]) -> List[int]:
    stack = []
    result = [-1] * len(arr)

    for i in range(len(arr) - 1, -1, -1):
        while stack and stack[-1] <= arr[i]:
            stack.pop()

        if stack:
            result[i] = stack[-1]

        stack.append(arr[i])

    return result
```

---

### 3ï¸âƒ£ Previous Smaller Element

```python
def previous_smaller_element(arr: List[int]) -> List[int]:
    stack = []
    result = [-1] * len(arr)

    for i in range(len(arr)):
        while stack and stack[-1] >= arr[i]:
            stack.pop()

        if stack:
            result[i] = stack[-1]

        stack.append(arr[i])

    return result
```

---

### 4ï¸âƒ£ Evaluate Postfix Expression

```python
def evaluate_postfix(tokens: List[str]) -> int:
    stack = []

    for token in tokens:
        if token.isdigit():
            stack.append(int(token))
        else:
            b = stack.pop()
            a = stack.pop()

            if token == '+':
                stack.append(a + b)
            elif token == '-':
                stack.append(a - b)
            elif token == '*':
                stack.append(a * b)
            elif token == '/':
                stack.append(int(a / b))  # truncate toward zero

    return stack[0]
```

ðŸ§ª Example:

```python
# Expression: (2 + 1) * 3
tokens = ["2", "1", "+", "3", "*"]
print(evaluate_postfix(tokens))  # 9
```

---

### 5ï¸âƒ£ Remove Adjacent Duplicates

```python
def remove_adjacent_duplicates(s: str) -> str:
    stack = []

    for ch in s:
        if stack and stack[-1] == ch:
            stack.pop()
        else:
            stack.append(ch)

    return "".join(stack)
```

---

## ðŸ§ª Example Usage

```python
print(is_valid_parentheses("({[]})"))     # True
print(next_greater_element([2,1,2,4,3]))  # [4,2,4,-1,-1]
print(previous_smaller_element([4,5,2,10,8]))  # [-1,4,-1,2,2]
print(remove_adjacent_duplicates("abbaca"))    # ca
```

---

## ðŸ§  Stack Pattern Recognition

Use **stack** when:

* You need to process **previous/next** elements
* Matching **openâ€“close** symbols
* Expression evaluation
* Undo / backtracking behavior

---

### ðŸ”¥ Monotonic Stack Rule (memorize this)

> If you need **next greater / smaller**,
> maintain a **monotonic stack**.

